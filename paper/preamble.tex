%% Pkgs
%% =============================================================================

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Style

%\usepackage{url}
%\usepackage{hyperref}
\usepackage{xspace}

\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.85}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Math

\usepackage{mathpartir} % inference rules
\usepackage{mathtools} % text above symbols

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Graphics

\usepackage{tikz}
\usetikzlibrary{fit,shapes, positioning}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Listings

\usepackage{listings}

%% Commands
%% =============================================================================

%% Text
%% *********************************************************

\newcommand{\defemph}[1]{\textbf{#1}}

\newcommand{\Lemma}{\textbf{Lemma}\xspace}
\newcommand{\Theorem}{\textbf{Theorem}\xspace}
\newcommand{\Proof}{{\textsl{Proof}}\xspace}
%\newcommand{\Qed}{{\textsl{Qed}}\xspace}

\newcommand{\R}[1]{\textsc{#1}\xspace}
\newcommand{\RD}[1]{\R{SD-#1}}
\newcommand{\RR}[1]{\R{SR-#1}}

\newcommand{\figref}[1]{Fig.~\ref{#1}}
\newcommand{\secref}[1]{Sec.~\ref{#1}}
\newcommand{\appref}[1]{App.~\ref{#1}}
\newcommand{\thmref}[1]{Theorem~\ref{#1}}
\newcommand{\lemref}[1]{Lemma~\ref{#1}}

\newcommand{\citemock}{\cite{bib:mock}\xspace}

\newcommand{\TODO}[1]{\textbf{TODO:} #1}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% BetaJulia

\newcommand{\BetaJulia}{\textsc{MiniJl}\xspace}
\newcommand{\BetaJuliaNom}{\textsc{MiniJl}$^{\mathrm{Nom}}$\xspace}

%% Code
%% *********************************************************

\newcommand{\jlcode}[1]{\texttt{\small#1}}
\newcommand{\jlftcode}[1]{\texttt{\footnotesize#1}}
\newcommand{\jltype}[1]{\texttt{\small#1}}
\newcommand{\jlfttype}[1]{\texttt{\footnotesize#1}}

\lstdefinelanguage[]{MiniJL}[]{Haskell}{
	morekeywords={Flt,Union},
	deletekeywords={print},
	escapeinside={\%*}{*)}, 
}

\lstnewenvironment{lstminijl}
{
	\lstset{
		language=MiniJl,
		basicstyle=\small\ttfamily,
		breaklines=true,
		columns=fullflexible
	}
}
{}

%% General Math/PL
%% *********************************************************

%: \Alt                 -> |
\newcommand{\Alt}{~\vert~}

%: \defsign             -> <=def=>
\newcommand{\defsign}{
	\stackrel{\mathclap{\tiny\mbox{def}}}{\equiv}} % \iff

%% BetaJulia
%% *********************************************************

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Style

%: type name (like Int)
\newcommand{\tyname}[1]{\ensuremath{\mathsf{#1}}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Metavariables

%: \ty                  -> τ
\newcommand{\ty}{\ensuremath{\tau}\xspace}
%: \vty                 -> v
\newcommand{\vty}{\ensuremath{v}\xspace}

\newcommand{\cname}{\ensuremath{\mathit{cname}}\xspace}
\newcommand{\aname}{\ensuremath{\mathit{aname}}\xspace}

\newcommand{\Type}{\textsc{Type}\xspace}
\newcommand{\VType}{\textsc{ValType}\xspace}
\newcommand{\PVType}{\ensuremath{\mathcal{P}(\VType)}}

\newcommand{\NomH}{\textrm{NomHrc}\xspace}
\newcommand{\NomHClosure}{\textrm{NomHrc*}\xspace}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Symbols

\newcommand{\semsubsign}{
	\stackrel{\mathclap{\tiny\mbox{sem}}}{<:}}

\newcommand{\tymtch}{\ensuremath{\prec}}

%: \tyleq               -> ≤
\newcommand{\tyleq}{\ensuremath{\leq}}
%\newcommand{\tyleqR}{\stackrel{\mathclap{\tiny\mbox{R}}}{\tyleq}}
\newcommand{\tyleqR}{\tyleq_\mathrm{R}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Type Constructors

%: \typair{t1}{t2}      -> t1 × t2
\newcommand{\typair}[2]{\ensuremath{#1 \times #2}}

%: \tyunion{t1}{t2}     -> t1 ∪ t2
\newcommand{\tyunion}[2]{\ensuremath{#1 \cup #2}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Type Examples

\newcommand{\tysigned}{\tyname{Signed}\xspace}
\newcommand{\tyintsf}{\tyname{Int64}\xspace}
\newcommand{\tyinttt}{\tyname{Int32}\xspace}
\newcommand{\tyintst}{\tyname{Int16}\xspace}

\newcommand{\tynum}{\tyname{Num}\xspace}
\newcommand{\tyreal}{\tyname{Real}\xspace}
\newcommand{\tyint}{\tyname{Int}\xspace}
\newcommand{\tyflt}{\tyname{Flt}\xspace}
\newcommand{\tycmplx}{\tyname{Cmplx}\xspace}
\newcommand{\tystr}{\tyname{Str}\xspace}

\newcommand{\tyref}{\tyname{Ref}\xspace}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Nominal Hierarchy

\newcommand{\bjdeclsub}[2]{\ensuremath{#1 \rhd #2}}
\newcommand{\bjnomsub}[2]{\ensuremath{#1\,{\rhd^*} #2}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Interpretation

\newcommand{\interpty}[1]{\ensuremath{\llbracket #1 \rrbracket}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Matching Relation

%\newcommand{\bjmtch}[2]{\ensuremath{\vdash \, #1 \tymtch #2}}
\newcommand{\bjmtch}[2]{\ensuremath{#1 \tymtch #2}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Subtyping

\newcommand{\bjtruesemsub}[2]{\ensuremath{#1 \, \semsubsign \, #2}}
%\newcommand{\bjsemsub}[2]{\ensuremath{\vDash \, #1 \, \subseteq \, #2}}
\newcommand{\bjsemsub}[2]{\ensuremath{#1 \, <: \, #2}}

%: \bjsub{t1}{t2}    -> ⊢ t1 ≤ t2
%\newcommand{\bjsub}[2]{\ensuremath{\vdash \, #1 \, \tyleq \, #2}}
\newcommand{\bjsub}[2]{\ensuremath{#1 \, \tyleq \, #2}}
%: \bjsubr{t1}{t2}    -> ⊢ t1 ≤R t2
\newcommand{\bjsubr}[2]{\ensuremath{#1 \, \tyleqR \, #2}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Normal Form

\newcommand{\InNF}{\ensuremath{\mathop{\mathrm{InNF}}}\xspace}
\newcommand{\NF}{\ensuremath{\mathop{\mathrm{NF}}}\xspace}
\newcommand{\unprs}{\ensuremath{\mathop{\mathtt{un\_prs}}}\xspace}

\newcommand{\Atom}{\ensuremath{\mathop{\mathrm{Atom}}}\xspace}
\newcommand{\InNFAt}{\ensuremath{\mathop{\mathrm{InNF}_{\mathrm{at}}}}\xspace}
\newcommand{\NFAt}{\ensuremath{\mathop{\mathrm{NF}_{\mathrm{at}}}}\xspace}
